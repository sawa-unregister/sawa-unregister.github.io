{"version":3,"sources":["webpack:///./src/src_bind/components/toast/toast.vue?6963","webpack:///./src/src_bind/views/create-modal/index.vue?2894","webpack:///./src/src_bind/views/mobile/mobile.vue","webpack:///./src/src_bind/components/toast/toast.vue","webpack:///./src/src_bind/components/toast/toast.vue?4d87","webpack:///./src/src_bind/views/mobile/mobile.vue?8061","webpack:///./src/src_bind/components/toast/toast.vue?dc76","webpack:///./src/src_bind/components/toast/toast.vue?977e","webpack:///./src/src_bind/views/create-modal/index.vue","webpack:///./src/src_bind/views/create-modal/index.vue?cb7e","webpack:///./src/src_bind/views/create-modal/index.vue?01c4","webpack:///./src/src_bind/views/create-modal/index.vue?3500","webpack:///./src/src_bind/views/mobile/mobile.vue?20b6","webpack:///./src/src_bind/views/mobile/mobile.vue?dfba","webpack:///./src/src_bind/views/mobile/mobile.vue?9910"],"names":["render","_vm","this","_c","_self","_setup","_setupProxy","staticClass","attrs","_v","_s","_T","style","backgroundImage","countryFlag","concat","require","country","directives","name","rawName","value","mobile","expression","modifiers","ref","domProps","on","handlePhoneNumberBlur","$event","$forceUpdate","target","composing","_n","clearMobile","code","handleCodeBlur","class","sendCodeBtnStatus","SendCodeBtnStatus","ENABLED","COOLING","getCode","sendCodeBtnText","loginBtnStatus","LoginBtnStatus","ACTIVE","INACTIVE","login","loading","_e","staticRenderFns","showWrap","showContent","text","Toast","Vue","extend","props","type","String","default","data","showToast","duration","toast","el","document","createElement","$el","body","appendChild","setTimeout","component","click","cancel","_defineComponent","__name","cb","source","onCancel","setup","__props","reportEvent","Events","h5_loginpage_enpower_no_account_pop_click","element_name","onMounted","h5_loginpage_enpower_no_account_pop_show","__sfc","event","reportClick","error","reportError","console","log","onBeforeRouteLeave","to","from","next","computed","sendCodeBtnCoolingS","sprintf","second","codeInputRef","mobileInputRef","getDefaultCountryFromUrl","store","state","getArgs","session_key","validateMobile","number","res","isValidNumber","focusMobileInput","that","getCurrentInstance","r","proxy","$refs","nextTick","focus","calcSendCodeBtnStatus","endTs","now","getSysTs","Math","floor","async","retry","success","result","message","getMobileCode","reportCodeResult","startCA","auto_create","loginWithMobile","showCreateModal","user_info","refreshAccount","reportPageLoad","h5_phoneloginpage","operation_type","phone_str","country_code_str","h5_login_detailpage_elementclick","error_message","h5_verifycodeloginpage_verifycode","showModal","CreateModal","watch","newValue","oldValue"],"mappings":"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","file":"js/chunk-1337945a.dfd1f7ff.js","sourcesContent":["export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./toast.vue?vue&type=style&index=0&id=601d3ead&prod&lang=scss&scoped=true\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=61ca5e90&prod&lang=scss&scoped=true\"","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"mobile-login-c\"},[_c('div',{staticClass:\"title\",attrs:{\"dir\":\"auto\"}},[_vm._v(_vm._s(_setup._T('登录/注册')))]),_c('div',{staticClass:\"tips\",attrs:{\"dir\":\"auto\"}},[_vm._v(_vm._s(_setup._T('请输入你的手机号，获取验证码以登录Sawa')))]),_c('div',{staticClass:\"mobile-c\"},[_c('div',{staticClass:\"line\"}),_c('div',{staticClass:\"container\"},[_c('router-link',{staticClass:\"country-zone\",attrs:{\"to\":\"/selectCountry\"}},[_c('div',{staticClass:\"flag\",style:({\n            backgroundImage: _setup.countryFlag\n              ? `url(${require('../../assets/img/mobile/flags/flags_' +\n                  _setup.countryFlag +\n                  '.imageset/flags_' +\n                  _setup.countryFlag +\n                  '@2x.png')})`\n              : '',\n          })}),_c('div',{staticClass:\"country-code\",attrs:{\"dir\":\"auto\"}},[_vm._v(_vm._s(`+${_setup.country}`))]),_c('div',{staticClass:\"select-icon\"})]),_c('div',{staticClass:\"split\"}),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_setup.mobile),expression:\"mobile\",modifiers:{\"number\":true}}],ref:\"mobileInputRef\",staticClass:\"phone-number-input\",attrs:{\"type\":\"number\",\"placeholder\":_setup._T('手机号'),\"dir\":\"rtl\"},domProps:{\"value\":(_setup.mobile)},on:{\"blur\":[_setup.handlePhoneNumberBlur,function($event){return _vm.$forceUpdate()}],\"input\":function($event){if($event.target.composing)return;_setup.mobile=_vm._n($event.target.value)}}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_setup.mobile),expression:\"mobile\"}],staticClass:\"clear-icon\",on:{\"click\":_setup.clearMobile}})],1),_c('div',{staticClass:\"line\"})]),_c('div',{staticClass:\"code-c\"},[_c('div',{staticClass:\"container\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_setup.code),expression:\"code\",modifiers:{\"number\":true}}],ref:\"codeInputRef\",staticClass:\"code-number-input\",attrs:{\"type\":\"number\",\"placeholder\":_setup._T('请输入验证码'),\"dir\":\"rtl\"},domProps:{\"value\":(_setup.code)},on:{\"blur\":[_setup.handleCodeBlur,function($event){return _vm.$forceUpdate()}],\"input\":function($event){if($event.target.composing)return;_setup.code=_vm._n($event.target.value)}}}),_c('div',{class:{\n          'send-code-btn-active': _setup.sendCodeBtnStatus === _setup.SendCodeBtnStatus.ENABLED,\n          'send-code-btn-inactive': _setup.sendCodeBtnStatus === _setup.SendCodeBtnStatus.COOLING,\n        },attrs:{\"dir\":\"auto\"},on:{\"click\":function($event){return _setup.getCode()}}},[_vm._v(\" \"+_vm._s(_setup.sendCodeBtnText)+\" \")])]),_c('div',{staticClass:\"line\"})]),_c('div',{staticClass:\"login-btn\",class:{\n      'login-btn-active': _setup.loginBtnStatus === _setup.LoginBtnStatus.ACTIVE,\n      'login-btn-inactive': _setup.loginBtnStatus === _setup.LoginBtnStatus.INACTIVE,\n    },attrs:{\"dir\":\"auto\"},on:{\"click\":() => _setup.login(false)}},[_vm._v(\" \"+_vm._s(_setup._T('登录'))+\" \")]),(_setup.loading)?_c('LoadingComp'):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return (_vm.showWrap)?_c('div',{staticClass:\"toast wrap\",class:_vm.showContent ? 'fadein' : 'fadeout',attrs:{\"dir\":\"auto\"}},[_vm._v(\" \"+_vm._s(_vm.text)+\" \")]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport Vue from 'vue'\n\nconst Toast = Vue.extend({\n  props: {\n    text: {\n      type: String,\n      default: '',\n    },\n  },\n  data() {\n    return {\n      showWrap: true, // 是否显示组件\n      showContent: true, // 作用:在隐藏组件之前,显示隐藏动画\n    }\n  },\n})\n\nexport const showToast = (text: string, duration = 4000) => {\n  const toast = new Toast({ el: document.createElement('div') }) as any\n  const el = toast.$el\n  toast.text = text\n  document.body.appendChild(el)\n  // 提前 250ms 执行淡出动画\n  setTimeout(() => {\n    toast.showContent = false\n  }, duration - 1250)\n  // 过了 duration 时间后隐藏整个组件\n  setTimeout(() => {\n    toast.showWrap = false\n  }, duration)\n}\n\nexport function registryToast() {\n  Vue.prototype.$toast = showToast\n  ;(window as any).toast = showToast\n}\n\nexport default Toast\n","import { defineComponent as _defineComponent } from 'vue'\nimport { ref, Ref, computed, watch, onMounted, getCurrentInstance, nextTick } from 'vue'\nimport { isValidNumber } from 'libphonenumber-js'\nimport { onBeforeRouteLeave } from 'vue-router/composables'\nimport {\n  _T,\n  getArgsFromUrl,\n  getSysTs,\n  reportEvent,\n  reportResTimes,\n  sprintf,\n} from '@badam/common-utils'\nimport { startCA } from '@/src_bind/components/ca/model'\nimport store from '../../store'\nimport { showToast } from '../../components/toast/toast.vue'\nimport { getMobileCode, loginWithMobile } from '../../api'\nimport { getArgs, refreshAccount, report } from '../../utils'\nimport { Events } from '../../event'\nimport { showModal } from '../../components/base/modal/modal.vue'\nimport CreateModal from '../create-modal/index.vue'\n\ntype Country = [string, string, string]\n\nenum SendCodeBtnStatus {\n  ENABLED = 1,\n  COOLING = 2,\n}\n\nenum LoginBtnStatus {\n  ACTIVE = 1,\n  INACTIVE = 2,\n}\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'mobile',\n  setup(__props) {\n\n/* eslint-disable global-require */\n/* eslint-disable @typescript-eslint/no-var-requires */\nonBeforeRouteLeave((to, from, next) => {\n  if (from.name === 'Mobile' && to.name === 'Home') {\n    try {\n      reportClick('return')\n    } catch (error) {\n      reportError(error)\n    }\n  }\n  next()\n})\n\nfunction handlePhoneNumberBlur(event: any) {\n  try {\n    reportClick('input_account', `${mobile.value}`, `${country.value}`)\n  } catch (error) {\n    reportError(error)\n  }\n}\n\nfunction handleCodeBlur(event: any) {\n  console.log('用户已离开输入框：', event.target.value)\n  try {\n    reportClick('input_code', `${mobile.value}`, `${country.value}`)\n  } catch (error) {\n    reportError(error)\n  }\n}\nconst sendCodeBtnText = computed(() => {\n  if (sendCodeBtnCoolingS.value > 0) {\n    return sprintf(_T('重新发送{second}'), { second: sendCodeBtnCoolingS.value })\n  }\n  if (sendCodeBtnStatus.value === SendCodeBtnStatus.ENABLED) {\n    return _T('发送验证码')\n  }\n  return ''\n})\nconst mobile: Ref<number | null> = ref(null)\nconst code: Ref<number | null> = ref(null)\nconst sendCodeBtnStatus = ref(SendCodeBtnStatus.ENABLED)\nconst sendCodeBtnCoolingS = ref(0)\nconst loading = ref(false)\n\nconst codeInputRef = ref()\nconst mobileInputRef = ref()\n\nfunction getDefaultCountryFromUrl() {\n  store.state.country = getArgs('region_phone_code') || '966'\n  store.state.countryFlag = getArgs('region_code') || 'SA'\n}\n\ngetDefaultCountryFromUrl()\nconst country = computed(() => store.state.country)\nconst countryFlag = computed(() => store.state.countryFlag)\n\nconst session_key = ref('')\n\nconst loginBtnStatus = computed(() => {\n  if (mobile.value && country.value && code.value) {\n    return LoginBtnStatus.ACTIVE\n  } else {\n    return LoginBtnStatus.INACTIVE\n  }\n})\n\nfunction validateMobile(number: number | string) {\n  const res = isValidNumber(number)\n  console.log('validateMobile:', number, res)\n  return res\n}\n\nfunction clearMobile() {\n  mobile.value = null\n}\n\nfunction focusMobileInput() {\n  const that: any = getCurrentInstance()\n  const r = that.proxy.$refs.mobileInputRef\n  nextTick(() => {\n    r.focus()\n  })\n}\n// function focusCodeInput() {\n//   const that: any = getCurrentInstance()\n//   console.log('that:', that)\n//   const r = that.proxy.$refs.codeInputRef\n//   nextTick(() => {\n//     r.focus()\n//   })\n// }\nonMounted(() => {\n  focusMobileInput()\n  reportPageLoad()\n})\n\nwatch(\n  () => sendCodeBtnStatus.value,\n  (newValue, oldValue) => {\n    console.log('mobile:', newValue, oldValue)\n    // 从 ENABLED 到 COOLING 开始倒计时\n    if (newValue === SendCodeBtnStatus.COOLING) {\n      const now = getSysTs()\n      // 冷却一分钟\n      const duration = 60\n      sendCodeBtnCoolingS.value = duration\n      calcSendCodeBtnStatus(now + duration * 1000)\n    } else {\n      // 结束倒计时\n      sendCodeBtnCoolingS.value = 0\n    }\n  }\n)\nfunction calcSendCodeBtnStatus(endTs: number) {\n  if (sendCodeBtnCoolingS.value > 0) {\n    setTimeout(() => {\n      const now = getSysTs()\n      sendCodeBtnCoolingS.value = Math.floor((endTs - now) / 1000)\n      calcSendCodeBtnStatus(endTs)\n    }, 1000)\n    return\n  } else {\n    sendCodeBtnStatus.value = SendCodeBtnStatus.ENABLED\n  }\n}\n\nasync function getCode(retry = 0) {\n  if (sendCodeBtnStatus.value === SendCodeBtnStatus.COOLING) {\n    return\n  }\n  //\n  if (!mobile.value) {\n    showToast(_T('请输入您的手机号'))\n    return\n  }\n  if (!country.value) {\n    showToast(_T('请选择国家/地区'))\n    return\n  }\n\n  const number = `+${country.value}  ${mobile.value}`\n  if (!validateMobile(number)) {\n    showToast(_T('手机号码输入有误，请调整后重试'))\n    return\n  }\n\n  if (loading.value) {\n    return\n  }\n  loading.value = true\n  try {\n    reportClick('send_code', `${mobile.value}`, `${country.value}`)\n  } catch (error) {\n    reportError(error)\n  }\n\n  sendCodeBtnStatus.value = SendCodeBtnStatus.COOLING\n  // 上报结果\n  const [success, { result, data, message, toast }] = await getMobileCode(\n    mobile.value,\n    country.value\n  )\n  loading.value = false\n  if (success && result === 0) {\n    try {\n      reportCodeResult(`${country.value}`, `${mobile.value}`, `${result}`, `${message || ''}`)\n    } catch (error) {\n      reportError(error)\n    }\n  } else if (result === -20000) {\n    if (retry > 0) {\n      return\n    }\n    await startCA()\n    getCode(retry + 1)\n  } else if (toast) {\n    showToast(toast)\n  }\n}\n\nasync function login(auto_create = false) {\n  // 需要有手机号 国家码 验证码\n  if (!mobile.value) {\n    showToast(_T('请输入您的手机号'))\n    return\n  }\n  if (!code.value) {\n    showToast(_T('请输入验证码'))\n    return\n  }\n  if (!country.value) {\n    showToast(_T('请选择国家/地区'))\n    return\n  }\n\n  // 提交登录\n  try {\n    reportClick('submit', `${mobile.value}`, `${country.value}`)\n  } catch (error) {\n    reportError(error)\n  }\n  if (loading.value) {\n    return\n  }\n  loading.value = true\n  // 登录拿到 session_key\n  const [success, { result, data, message, toast }] = await loginWithMobile(\n    mobile.value,\n    code.value,\n    country.value,\n    auto_create\n  )\n  console.log('loginWithMobile:', success, result, data, message)\n  if (!success) {\n    loading.value = false\n    showToast(_T('获取数据失败，请稍后重试'))\n    return\n  }\n  // 没有账号，是否自动创建\n  if (result !== 0) {\n    toast && showToast(toast)\n    loading.value = false\n    if (result === 20312) {\n      showCreateModal(() => login(true), 'phone')\n    }\n    return\n  }\n\n  if (data && data.user_info && data.user_info.session_key) {\n    session_key.value = data.user_info.session_key\n    refreshAccount({ data }, 'sawaksa_mobile')\n  }\n  loading.value = false\n}\n// 上报页面加载事件\nfunction reportPageLoad() {\n  reportEvent(Events.h5_phoneloginpage, {\n    source: 'phone',\n  })\n}\n// 上报点击登录事件\nfunction reportClick(operation_type: string, phone_str?: any, country_code_str?: any) {\n  reportEvent(Events.h5_login_detailpage_elementclick, {\n    source: 'phone',\n    operation_type,\n    phone_str,\n    country_code_str,\n  })\n}\n\n// TODO: 上报 验证码发送结果。怎么知道错还是没错\nfunction reportCodeResult(\n  country_code_str: string,\n  phone_str: string,\n  result: string,\n  error_message: string\n) {\n  reportEvent(Events.h5_verifycodeloginpage_verifycode, {\n    country_code_str,\n    phone_str,\n    result,\n    error_message,\n  })\n}\nfunction showCreateModal(cb: any, source: string) {\n  showModal(CreateModal, { cb, source })\n}\n\nreturn { __sfc: true,SendCodeBtnStatus, LoginBtnStatus, handlePhoneNumberBlur, handleCodeBlur, sendCodeBtnText, mobile, code, sendCodeBtnStatus, sendCodeBtnCoolingS, loading, codeInputRef, mobileInputRef, getDefaultCountryFromUrl, country, countryFlag, session_key, loginBtnStatus, validateMobile, clearMobile, focusMobileInput, calcSendCodeBtnStatus, getCode, login, reportPageLoad, reportClick, reportCodeResult, showCreateModal, _T }\n}\n\n})","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./toast.vue?vue&type=script&lang=ts\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./toast.vue?vue&type=script&lang=ts\"","import { render, staticRenderFns } from \"./toast.vue?vue&type=template&id=601d3ead&scoped=true\"\nimport script from \"./toast.vue?vue&type=script&lang=ts\"\nexport * from \"./toast.vue?vue&type=script&lang=ts\"\nimport style0 from \"./toast.vue?vue&type=style&index=0&id=601d3ead&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"601d3ead\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"create-modal-c\"},[_c('div',{staticClass:\"title\",attrs:{\"dir\":\"auto\"}},[_vm._v(_vm._s(_setup._T('创建账号')))]),_c('div',{staticClass:\"desc\",attrs:{\"dir\":\"auto\"}},[_vm._v(_vm._s(_setup._T('你还没有Sawa账号，是否马上创建账号并登录Sawa Ludo？')))]),_c('div',{staticClass:\"btn-list\"},[_c('div',{staticClass:\"btn confirm\",attrs:{\"dir\":\"auto\"},on:{\"click\":_setup.click}},[_vm._v(_vm._s(_setup._T('确定')))]),_c('div',{staticClass:\"btn cancel\",attrs:{\"dir\":\"auto\"},on:{\"click\":_setup.cancel}},[_vm._v(_vm._s(_setup._T('取消')))])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { defineComponent as _defineComponent } from 'vue'\nimport { _T } from '@badam/common-utils'\nimport { onMounted } from 'vue'\nimport { Events, reportEvent } from '../../event'\n\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'index',\n  props: {\n    cb: null,\n    source: null,\n    onCancel: null\n  },\n  setup(__props: any) {\n\nconst props = __props as { cb: any; source: string; onCancel: any };\n\n\n\nfunction click() {\n  reportEvent(Events.h5_loginpage_enpower_no_account_pop_click, {\n    source: props.source,\n    element_name: '确定',\n  })\n  props.cb()\n  props.onCancel()\n}\n\nfunction cancel() {\n  reportEvent(Events.h5_loginpage_enpower_no_account_pop_click, {\n    source: props.source,\n    element_name: '取消',\n  })\n  props.onCancel()\n}\n\nonMounted(() => {\n  reportEvent(Events.h5_loginpage_enpower_no_account_pop_show, {\n    source: props.source,\n  })\n})\n\nreturn { __sfc: true,props, click, cancel, _T }\n}\n\n})","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&setup=true\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=ts&setup=true\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=61ca5e90&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./index.vue?vue&type=script&lang=ts&setup=true\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=61ca5e90&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"61ca5e90\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mobile.vue?vue&type=script&lang=ts&setup=true\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--15-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mobile.vue?vue&type=script&lang=ts&setup=true\"","import { render, staticRenderFns } from \"./mobile.vue?vue&type=template&id=b4ab3206&scoped=true\"\nimport script from \"./mobile.vue?vue&type=script&lang=ts&setup=true\"\nexport * from \"./mobile.vue?vue&type=script&lang=ts&setup=true\"\nimport style0 from \"./mobile.vue?vue&type=style&index=0&id=b4ab3206&prod&scoped=true&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b4ab3206\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./mobile.vue?vue&type=style&index=0&id=b4ab3206&prod&scoped=true&lang=scss\""],"sourceRoot":""}