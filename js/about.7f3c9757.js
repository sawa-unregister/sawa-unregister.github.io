(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{"10a7":function(e,t,n){"use strict";n("c761")},"1ad0":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e._self._c,o=e._self._setupProxy;return t("div",{staticClass:"mobile-login-c"},[t("div",{staticClass:"title",attrs:{dir:"auto"}},[e._v(e._s(o._T("登录/注册")))]),t("div",{staticClass:"tips",attrs:{dir:"auto"}},[e._v(e._s(o._T("请输入你的手机号，获取验证码以登录Sawa")))]),t("div",{staticClass:"mobile-c"},[t("div",{staticClass:"line"}),t("div",{staticClass:"container"},[t("router-link",{staticClass:"country-zone",attrs:{to:"/selectCountry"}},[t("div",{staticClass:"flag",style:{backgroundImage:o.countryFlag?"url(".concat(n("560a")("./flags_"+o.countryFlag+".imageset/flags_"+o.countryFlag+"@2x.png"),")"):""}}),t("div",{staticClass:"country-code",attrs:{dir:"auto"}},[e._v(e._s("+".concat(o.country)))]),t("div",{staticClass:"select-icon"})]),t("div",{staticClass:"split"}),t("input",{directives:[{name:"model",rawName:"v-model.number",value:o.mobile,expression:"mobile",modifiers:{number:!0}}],ref:"mobileInputRef",staticClass:"phone-number-input",attrs:{type:"number",placeholder:o._T("手机号"),dir:"rtl"},domProps:{value:o.mobile},on:{blur:[o.handlePhoneNumberBlur,function(t){return e.$forceUpdate()}],input:function(t){t.target.composing||(o.mobile=e._n(t.target.value))}}}),t("div",{directives:[{name:"show",rawName:"v-show",value:o.mobile,expression:"mobile"}],staticClass:"clear-icon",on:{click:o.clearMobile}})],1),t("div",{staticClass:"line"})]),t("div",{staticClass:"code-c"},[t("div",{staticClass:"container"},[t("input",{directives:[{name:"model",rawName:"v-model.number",value:o.code,expression:"code",modifiers:{number:!0}}],ref:"codeInputRef",staticClass:"code-number-input",attrs:{type:"number",placeholder:o._T("请输入验证码"),dir:"rtl"},domProps:{value:o.code},on:{blur:[o.handleCodeBlur,function(t){return e.$forceUpdate()}],input:function(t){t.target.composing||(o.code=e._n(t.target.value))}}}),t("div",{class:{"send-code-btn-active":o.sendCodeBtnStatus===o.SendCodeBtnStatus.ENABLED,"send-code-btn-inactive":o.sendCodeBtnStatus===o.SendCodeBtnStatus.COOLING},attrs:{dir:"auto"},on:{click:function(e){return o.getCode()}}},[e._v(" "+e._s(o.sendCodeBtnText)+" ")])]),t("div",{staticClass:"line"})]),t("div",{staticClass:"login-btn",class:{"login-btn-active":o.loginBtnStatus===o.LoginBtnStatus.ACTIVE,"login-btn-inactive":o.loginBtnStatus===o.LoginBtnStatus.INACTIVE},attrs:{dir:"auto"},on:{click:function(){return o.login(!1)}}},[e._v(" "+e._s(o._T("登录"))+" ")]),o.loading?t("LoadingComp"):e._e()],1)},a=[],c=(n("ddb0"),n("2b0e")),s=n("b48f"),r=n("1cec"),i=n("af18"),l=n("03b9"),u=n("0bb3"),d=n("19f9"),v=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.showWrap?t("div",{staticClass:"toast wrap",class:e.showContent?"fadein":"fadeout",attrs:{dir:"auto"}},[e._v(" "+e._s(e.text)+" ")]):e._e()},b=[];const _=c["default"].extend({props:{text:{type:String,default:""}},data(){return{showWrap:!0,showContent:!0}}}),p=(e,t=4e3)=>{const n=new _({el:document.createElement("div")}),o=n.$el;n.text=e,document.body.appendChild(o),setTimeout((()=>{n.showContent=!1}),t-1250),setTimeout((()=>{n.showWrap=!1}),t)};var f,m,C=_,g=C,O=(n("5265"),n("2877")),j=Object(O["a"])(g,v,b,!1,null,"a82e0908",null),h=(j.exports,n("89a2")),y=n("6040"),T=n("c8b7"),w=n("7446"),E=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"create-modal-c"},[t("div",{staticClass:"title",attrs:{dir:"auto"}},[e._v(e._s(n._T("创建账号")))]),t("div",{staticClass:"desc",attrs:{dir:"auto"}},[e._v(e._s(n._T("你还没有Sawa账号，是否马上创建账号并登录Sawa Ludo？")))]),t("div",{staticClass:"btn-list"},[t("div",{staticClass:"btn confirm",attrs:{dir:"auto"},on:{click:n.click}},[e._v(e._s(n._T("确定")))]),t("div",{staticClass:"btn cancel",attrs:{dir:"auto"},on:{click:n.cancel}},[e._v(e._s(n._T("取消")))])])])},B=[],I=Object(c["defineComponent"])({__name:"index",props:{cb:null,source:null,onCancel:null},setup(e){const t=e;function n(){Object(T["c"])(T["b"].h5_loginpage_enpower_no_account_pop_click,{source:t.source,element_name:"确定"}),t.cb(),t.onCancel()}function o(){Object(T["c"])(T["b"].h5_loginpage_enpower_no_account_pop_click,{source:t.source,element_name:"取消"}),t.onCancel()}return Object(c["onMounted"])((()=>{Object(T["c"])(T["b"].h5_loginpage_enpower_no_account_pop_show,{source:t.source})})),{__sfc:!0,props:t,click:n,cancel:o,_T:i["_T"]}}}),S=I,N=(n("ad62"),Object(O["a"])(S,E,B,!1,null,"34445cc7",null)),k=N.exports,x=n("9325");(function(e){e[e["ENABLED"]=1]="ENABLED",e[e["COOLING"]=2]="COOLING"})(f||(f={})),function(e){e[e["ACTIVE"]=1]="ACTIVE",e[e["INACTIVE"]=2]="INACTIVE"}(m||(m={}));var L=Object(c["defineComponent"])({__name:"mobile",setup(e){function t(e){try{D("input_account",`${a.value}`,`${E.value}`)}catch(t){reportError(t)}}function n(e){console.log("用户已离开输入框：",e.target.value);try{D("input_code",`${a.value}`,`${E.value}`)}catch(t){reportError(t)}}Object(r["onBeforeRouteLeave"])(((e,t,n)=>{if("Mobile"===t.name&&"Home"===e.name)try{D("return")}catch(o){reportError(o)}n()}));const o=Object(c["computed"])((()=>_.value>0?Object(i["sprintf"])(Object(i["_T"])("重新发送{second}"),{second:_.value}):b.value===f.ENABLED?Object(i["_T"])("发送验证码"):"")),a=Object(c["ref"])(null),v=Object(c["ref"])(null),b=Object(c["ref"])(f.ENABLED),_=Object(c["ref"])(0),C=Object(c["ref"])(!1),g=Object(c["ref"])(),O=Object(c["ref"])();function j(){d["a"].state.country=Object(y["c"])("region_phone_code")||"966",d["a"].state.countryFlag=Object(y["c"])("region_code")||"SA"}j();const E=Object(c["computed"])((()=>d["a"].state.country)),B=Object(c["computed"])((()=>d["a"].state.countryFlag)),I=Object(c["ref"])(""),S=Object(c["computed"])((()=>a.value&&E.value&&v.value?m.ACTIVE:m.INACTIVE));function N(e){const t=Object(s["a"])(e);return console.log("validateMobile:",e,t),t}function L(){a.value=null}function $(){const e=Object(c["getCurrentInstance"])(),t=e.proxy.$refs.mobileInputRef;Object(c["nextTick"])((()=>{t.focus()}))}function A(e){_.value>0?setTimeout((()=>{const t=Object(i["getSysTs"])();_.value=Math.floor((e-t)/1e3),A(e)}),1e3):b.value=f.ENABLED}async function M(e=0){if(b.value===f.COOLING)return;if(!a.value)return void p(Object(i["_T"])("请输入您的手机号"));if(!E.value)return void p(Object(i["_T"])("请选择国家/地区"));const t=`+${E.value}  ${a.value}`;if(!N(t))return void p(Object(i["_T"])("手机号码输入有误，请调整后重试"));if(C.value)return;C.value=!0;try{D("send_code",`${a.value}`,`${E.value}`)}catch(d){reportError(d)}const[n,{result:o,data:c,message:s,toast:r}]=await Object(h["a"])(a.value,E.value);if(C.value=!1,n&&0===o){b.value=f.COOLING;try{F(`${E.value}`,`${a.value}`,`${o}`,`${s||""}`)}catch(d){reportError(d)}}else if(-2e4===o){if(e>0)return;await Object(l["a"])(),M(e+1)}else-10001===o?Object(w["a"])(x["a"],{cb:()=>{Object(u["d"])(a.value,E.value,B.value)}}):r&&p(r)}async function P(e=!1){if(!a.value)return void p(Object(i["_T"])("请输入您的手机号"));if(!v.value)return void p(Object(i["_T"])("请输入验证码"));if(!E.value)return void p(Object(i["_T"])("请选择国家/地区"));try{D("submit",`${a.value}`,`${E.value}`)}catch(s){reportError(s)}if(C.value)return;C.value=!0;const[t,{result:n,data:o,message:c}]=await Object(h["b"])(a.value,v.value,E.value,e);return console.log("loginWithMobile:",t,n,o,c),t?0!==n?(C.value=!1,void(20312===n&&R((()=>P(!0)),"phone"))):(o&&o.user_info&&o.user_info.session_key&&(I.value=o.user_info.session_key,Object(y["l"])({data:o},"sawaksa_mobile")),void(C.value=!1)):(C.value=!1,void p(Object(i["_T"])("获取数据失败，请稍后重试")))}function V(){Object(i["reportEvent"])(T["b"].h5_phoneloginpage,{source:"phone"})}function D(e,t,n){Object(i["reportEvent"])(T["b"].h5_login_detailpage_elementclick,{source:"phone",operation_type:e,phone_str:t,country_code_str:n})}function F(e,t,n,o){Object(i["reportEvent"])(T["b"].h5_verifycodeloginpage_verifycode,{country_code_str:e,phone_str:t,result:n,error_message:o})}function R(e,t){Object(w["a"])(k,{cb:e,source:t})}return Object(c["onMounted"])((()=>{$(),V()})),Object(c["watch"])((()=>b.value),((e,t)=>{if(console.log("mobile:",e,t),e===f.COOLING){const e=Object(i["getSysTs"])(),t=60;_.value=t,A(e+1e3*t)}else _.value=0})),{__sfc:!0,SendCodeBtnStatus:f,LoginBtnStatus:m,handlePhoneNumberBlur:t,handleCodeBlur:n,sendCodeBtnText:o,mobile:a,code:v,sendCodeBtnStatus:b,sendCodeBtnCoolingS:_,loading:C,codeInputRef:g,mobileInputRef:O,getDefaultCountryFromUrl:j,country:E,countryFlag:B,session_key:I,loginBtnStatus:S,validateMobile:N,clearMobile:L,focusMobileInput:$,calcSendCodeBtnStatus:A,getCode:M,login:P,reportPageLoad:V,reportClick:D,reportCodeResult:F,showCreateModal:R,_T:i["_T"]}}}),$=L,A=(n("10a7"),Object(O["a"])($,o,a,!1,null,"0b6790de",null));t["default"]=A.exports},5265:function(e,t,n){"use strict";n("d35c")},ad62:function(e,t,n){"use strict";n("c945")},c761:function(e,t,n){},c945:function(e,t,n){},d35c:function(e,t,n){}}]);
//# sourceMappingURL=about.7f3c9757.js.map